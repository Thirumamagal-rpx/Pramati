<!DOCTYPE html> 
<html lang="en">
<head>
  <title>Assignment 2</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">	
  <link rel="stylesheet" type="text/css" href="cont.css"/>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
  <script>
   function check_date(given_date){
	var GivenDate = given_date;
	var CurrentDate = new Date();
	GivenDate = new Date(GivenDate);

	if(GivenDate > CurrentDate){
	   return 0
	}
	else
	{
	   return GivenDate	    
	}	
	}
	function capitalize_name(textboxid, str) {
	      if (str && str.length >= 1)
	      {       
		  var firstChar = str.charAt(0);
		  var remainingStr = str.slice(1);
		  str = firstChar.toUpperCase() + remainingStr;
	      }
	      document.getElementById(textboxid).value = str;
  	}
	function validate_email(email_id) {

		var pattern = new RegExp(/^([a-zA-Z]+[\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);
		return pattern.test(email_id);
	}
	function validate_phone(phone) {

		var ph_pattern = new RegExp(/^([6-9]+[\d]{9})?$/);
		return ph_pattern.test(phone);
	}
	function contact_details() {

	var f_name  = document.getElementById("fname").value;
	var l_name   = document.getElementById("lname").value;
	var email_id = document.getElementById("email").value;
	var dob  = document.getElementById("date").value;
	var phone  = document.getElementById("phone").value;
	 var flag=0;
	

	if (!f_name || !l_name || !email_id || !dob || !phone)
	{
	if (!f_name)
		{
		document.getElementById('fn').innerHTML="Please fill the First name";
		flag=1;
		}
  
	if (!l_name)
		{
		document.getElementById('ln').innerHTML="Please fill the Last name";
		flag=1;
		}
	if (!email_id)
		{
		document.getElementById('em').innerHTML="Please fill the e-mail";
		flag=1;
		}
	if (!dob)
		{
		document.getElementById('dm').innerHTML="Please fill the Date Of Birth";
		flag=1;
		}
	if (!phone)
		{
		document.getElementById('pn').innerHTML="Please fill the Phone Number";
		flag=1;
		}
	}	
	else(flag==0)
	{
		var table=document.getElementById("contact_info");
	
		var row=table.insertRow(1);
		var cell1=row.insertCell(0);
		var cell2=row.insertCell(1);
		var cell3=row.insertCell(2);
		var cell4=row.insertCell(3);
		var cell5=row.insertCell(4);
		
		if (f_name[0] == f_name[0].toUpperCase())
		{
			cell1.innerHTML=f_name;
			document.getElementById('fn').innerHTML="";
		}
		else
		{
			f_ltr = f_name.charAt(0).toUpperCase() 
			remaining = f_name.slice(1);
			f_name = f_ltr+remaining;
			cell1.innerHTML=f_name;	
		}
		
		if (l_name[0] == l_name[0].toUpperCase())
		{
			cell2.innerHTML=l_name;
			document.getElementById('ln').innerHTML="";
		}
		else
		{
			f_ltr = l_name.charAt(0).toUpperCase() 
			remaining = l_name.slice(1);
			l_name = f_ltr+remaining;
			cell2.innerHTML=l_name;			
		}

		if (validate_email(email_id))
		{
			cell3.innerHTML=email_id;
			document.getElementById('em').innerHTML="";			
		}
		else
		{
		document.getElementById('em').innerHTML="Please fill the e-mail in the valid format";
		}

		if (check_date(dob))
		{
			cell4.innerHTML=dob;	
			document.getElementById('dm').innerHTML="";
		}
		else
		{
		document.getElementById('dm').innerHTML="You have entered a future date";
		}
		
		if (validate_phone(phone))
		{
			cell5.innerHTML=phone;	
			document.getElementById('pn').innerHTML="";
		}
		else
		{
		document.getElementById('pn').innerHTML="Please fill the Phone Number in the valid format";
		}

	}
	document.getElementById("contact_form").reset();
	}
  </script>
  <script>
    $(document).ready(function(){
        var date_input=$('input[name="date"]'); //our date input has the name "date"
        var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
        date_input.datepicker({
            format: 'mm/dd/yyyy',
            container: container,
            todayHighlight: true,
            autoclose: true,
        })
    })
</script>
</head>
<body>

<div class="container-fluid">
<div class="row">
    <div class="col-md-6">
	
	<h2 class="heading-font">Contact Info</h2><br>
<form id="contact_form">
	<div class="form-group">
	
	    <div class="fname">First Name:
       	<input type="text" class="form-control" id="fname" name="fname" onblur="check(this.value)" placeholder="first name" onkeyup="javascript:capitalize_name(this.id, this.value);">
			<span id="fn" class="Errmsg"></span>
	   
		</div>
	</div>
	
	<div class="form-group">
	    <div class="fname">Last Name:
		<input type="text" class="form-control" id="lname" name="lname" placeholder="last name" onkeyup="javascript:capitalize_name(this.id, this.value);">
            <span id="ln" class="Errmsg"></span>
		</div>	
	</div>
		
	<div class="form-group">
	    <div class="email">Email:
		<input type="email" class="form-control" id="email" name="email" placeholder="Enter email">
            <span id="em" class="Errmsg"></span>
		</div>
	</div>
	
	<div class="form-group">
	    <div class="dob">Date Of Birth :
        <input type="text" class="form-control" id="date" name="date" placeholder="MM/DD/YYY" type="text"/>
			<span id="dm" class="Errmsg"></span>
		<!--<label for="dob">Date of Birth:</label></div>
		<div class="col-sm-4"><input type="date" class="form-control" id="dob" name="dob" placeholder="date of birth"></div>-->
        </div>   
	</div>
	
	<div class="form-group">
	   <div class="phone no">Phone no:
		<input type="text" class="form-control" id="phone" name="phone no" placeholder="phone no">
			<span id="pn" class="Errmsg"></span>
        </div>	
	</div>
	
	<div align="center">	
	<button type="button" class="btn-btn-default" onclick="contact_details()">submit</button>	
	</div>
	</div>
	      
	<br>
	<br>
	<br>
	
		
		<div class="col-md-6">
		<div class="tablecont">
		
	
	<table id="contact_info" class="table table-striped">
		<th>First Name</th>
		<th>Last Name</th>
		<th>Email</th>
		<th>Date of Birth</th>
		<th>Phone Number</th>
	<tbody>

	</tbody>
</table>

</form>
</div>
</div> 
</div>
</div> 
</div>
<script src="cont.js"></script>
</body>
</html>
